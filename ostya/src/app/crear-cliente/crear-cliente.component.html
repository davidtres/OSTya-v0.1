<div class="well"><a [routerLink]="['/home']">Home</a> / Editar Clientes</div>
<div class="container">
  <ng-container *ngIf="cliente.id == new; then Crea; else Edita">
  </ng-container>
  <ng-template #Crea>
    <div>
      <h1>Crear Cliente</h1>
    </div>
  </ng-template>
  <ng-template #Edita>
    <div>
      <h1>Editar Cliente</h1>
    </div>
  </ng-template>

  <hr />
  <div class="alert alert-success" role="alert" *ngIf="NewCliente">
    Cliente se ha guardado con exito!!
  </div>
  <form
    [formGroup]="formGroup"
    (validSubmit)="guardarCliente()"
    autocomplete="off"
  >
    <!-- Primera fila -->
    <div class="form-row">
      <div class="form-group col-md-2">
        <label for="inputId">Identificacion</label>
        <input
          type="number"
          (blur)="validarCliente()"
          class="form-control"
          formControlName="Id"
          placeholder="Identificacion"
          [(ngModel)]="cliente.id"
          name="identificacion"
        />
        <div class="alert alert-danger" role="alert" *ngIf="existe">
          CLIENTE EXISTE!
        </div>
      </div>
      <div class="form-group col-md-6">
        <label for="inputNombre">Nombre</label>
        <input
          type="text"
          class="form-control"
          formControlName="Nombre"
          placeholder="Nombre"
          [(ngModel)]="cliente.nombre"
          name="Nombre"
        />
      </div>
      <div class="form-group col-md-4">
        <label for="Correo">Correo</label>
        <input
          type="email"
          class="form-control"
          formControlName="Correo"
          placeholder="Correo"
          [(ngModel)]="cliente.correo"
          name="Correo"
        />
      </div>
    </div>
    <!-- Segunda fila -->
    <div class="form-row">
      <div class="form-group col-md-8">
        <label for="Dir">Direccion, Incluir la ciudad</label>
        <input
          type="text"
          class="form-control"
          formControlName="Dir"
          placeholder="Direccion"
          [(ngModel)]="cliente.direcciones[0]"
          name="Dir"
        />
      </div>
      <div class="form-group col-md-2">
        <label for="Tel">Telefono</label>
        <input
          type="text"
          class="form-control"
          formControlName="Tel"
          placeholder="Telefono"
          [(ngModel)]="cliente.telefono"
          name="Tel"
        />
      </div>
      <div class="form-group col-md-2">
        <label for="Cel">Celular</label>
        <input
          type="text"
          class="form-control"
          formControlName="Cel"
          placeholder="Celular"
          [(ngModel)]="cliente.celular"
          name="Cel"
        />
      </div>
    </div>
    <!-- Tercera fila -->
    <div class="form-row">
      <div class="form-group col-md-5">
        <label for="Contact">Contacto</label>
        <input
          type="text"
          class="form-control"
          formControlName="Contact"
          placeholder="Contacto"
          [(ngModel)]="cliente.contacto"
          name="Contact"
        />
      </div>
      <div class="form-group col-md-3">
        <label for="Tipo">Tipo de Cliente</label>
        <select
          formControlName="Tipo"
          class="form-control"
          [(ngModel)]="cliente.tipo"
          name="Tipo"
        >
          <option *ngFor="let personas of tPersona"
            >{{ personas.tipo }}
          </option>
        </select>
      </div>
      <div class="form-group col-md-2">
        <label for="Lat">Latitud</label>
        <input
          type="number"
          class="form-control"
          formControlName="Lat"
          placeholder="Latitud"
          [(ngModel)]="cliente.coordenadas[0]"
          name="Lat"
        />
      </div>
      <div class="form-group col-md-2">
        <label for="Long">Longitud</label>
        <input
          type="number"
          class="form-control"
          formControlName="Long"
          placeholder="Longitud"
          [(ngModel)]="cliente.coordenadas[1]"
          name="Long"
        />
      </div>
    </div>
    <!-- Cuarta fila -->
    <div class="form-group">
      <div class="form-check">
        <input
          class="form-check-input"
          formControlName="Acceso"
          type="checkbox"
          name="Acceso"
          [(ngModel)]="cliente.acceder"
        />
        <label class="form-check-label" for="accesoOstya">
          Dar acceso a Ostya.
        </label>
      </div>
    </div>
    <div *ngIf="formGroup.status == 'VALID'">
      <button type="submit" class="btn btn-primary">Guardar Cliente</button>
    </div>
  </form>
  <div *ngIf="formGroup.status == 'INVALID'">
    <a class="btn btn-danger" routerLink="/listar-cliente/">Cancelar</a>
  </div>
  <hr />
</div>
